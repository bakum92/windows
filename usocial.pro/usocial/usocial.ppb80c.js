!function(){"init"!==window._uSocialTool&&"undefined"==typeof window._uSocialTool&&(window._uSocialTool="init",usclUtility=function(){var t={checkIE:function(){return Boolean(document.all&&(!document.documentMode||document.documentMode&&document.documentMode<10))},hasObj:function(t,e){var n=void 0==e;return void 0!==t&&null!=t&&(!!n||e in t)},closestParent:function(t,e){if(!t.classList.contains(e))for(;(t=t.parentElement)&&!t.classList.contains(e););return t},checkInObject:function(t,e){var n=null;for(var i in t)if(t.hasOwnProperty(i)){if(i===e){n=t[i];break}if(t[i]&&"object"==typeof t[i]){var o=this.checkInObject(t[i],e);if(o){n=o;break}}}return n},bitShiftByKey:function(t,e){for(var n="",i=0;i<t.length;i++){var o=e.substr(-1);n+=String.fromCharCode(t[i].charCodeAt(0)^o.charCodeAt(0)),e=o+e.substr(0,e.length-1)}return n},getVersion:function(t){var e="?v=",n="";return"undefined"!=typeof t&&(n=String(e+t)),n},randomString:function(t){for(var e="0123456789",n="",i=0;i<t;i++){var o=Math.floor(Math.random()*e.length);n+=e.substring(o,o+1)}return n},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}};return{tool:t}}())}();var usclHost=function(){function t(){var t,o=document.querySelector("script[data-script=usocial]")||!1,c=document.querySelector("[data-uscl-host]")||!1;return t=o?e(o):c?n(c):i()}function e(t){var e=t?t.getAttribute("src").split("/"):null;return[].concat(e[0],e[1],e[2]).join("/")}function n(t){var e=t?t.getAttribute("data-uscl-host"):"";return e}function i(){for(var t,n=document.querySelectorAll("script[src]")||[],i=n.length-1;i>=0;i--){var o=n[i].getAttribute("src")||"";/usocial\./.test(o)&&(t=e(n[i]),n[i].dataScript="usocial")}return t}return{init:t}}(),uFingerPrint=function(){function t(t){var e=document.createElement("script"),n=document.getElementsByTagName("body")[0],i=document.getElementsByTagName("head")[0];e.async=!0,e.type="text/javascript",e.charset="UTF-8",e.src=usclHost.init()+"/usocial/fingerprint2.min.js","undefined"==typeof n?i.appendChild(e):n.appendChild(e),e.onload=function(){void 0!==t&&t&&t()}}function e(){return o}function n(t){function e(){if("undefined"!=typeof Fingerprint2){var t=new Fingerprint2({extendedJsFonts:!0,excludeUserAgent:!0,excludeTimezoneOffset:!0,excludeWebGL:!0,excludeAvailableScreenResolution:!0,excludeScreenResolution:!0,excludePixelRatio:!0,excludeColorDepth:!0});t.get(function(t){o=t,void 0!==i&&i&&i()}),clearTimeout(n)}else n=setTimeout(e,50)}var n,i=t;e()}function i(e){return"init"===window._uFPrint2?void n(e):void("undefined"==typeof window._uFPrint2&&(window._uFPrint2="init",t(function(){n(e)})))}var o=null;return{init:i,getFpUsocialUser:e}}(),uPixel=function(){function t(t,e,n){var i=usclHost.init()+"/logs/store-view",o="&c="+usclUtility.tool.randomString(7),c="",r="",a="";if("undefined"==typeof i||null==i||""==i)throw new Error("Некорректный URL пикселя");if("true"!=sessionStorage.getItem("fingerPrint_"+t)){if("referrer"in document&&(r=document.referrer),"undefined"!=typeof r&&null!=r&&""!=r&&(o=o+"&r="+encodeURIComponent(r)),o=o+"&pid="+t,o=o+"&usocialUser="+uFingerPrint.getFpUsocialUser(),o=o+"&pType="+e.toLowerCase(),o=o+"&url="+document.URL,void 0!==n)switch(e){case"publicpopup":o=o+"&popupOpenType="+n;break;case"share":case"like":o=o+"&barDisplayStatus="+n}c=a.indexOf("?")!=-1?i+"&"+o:i+"?"+o;var u=document.createElement("img");u.setAttribute("id","usocial-pixel"),u.setAttribute("src",c),u.style.height="0px",u.style.width="0px",u.style.display="none",document.body.appendChild(u),sessionStorage.setItem("fingerPrint_"+t,"true")}}function e(e,n,i){t(e,n,i)}return{init:e}}(),uCookies=function(){function t(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function e(t,e,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString()),e=encodeURIComponent(e);var c=t+"="+e;for(var r in n){c+="; "+r;var a=n[r];a!==!0&&(c+="="+a)}document.cookie=c}return{getCookie:t,setCookie:e}}(),checkDevice=function(){var t={userAgent:window.navigator.userAgent.toLowerCase(),ios:function(){return this.iphone()||this.ipod()||this.ipad()},mobileSafari:function(){return/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase())},mobileChrome:function(){return/chrome/.test(navigator.userAgent.toLowerCase())&&!/version/.test(navigator.userAgent.toLowerCase())},iphone:function(){return this.find("iphone")},ipod:function(){return this.find("ipod")},ipad:function(){return this.find("ipad")},android:function(){return this.find("android")},androidVersion:function(){return navigator.userAgent.toLowerCase().match(/android (\d+(?:\.\d+))/)[0].replace("android ","")},androidPhone:function(){return this.android()&&this.find("mobile")},androidTablet:function(){return this.android()&&!this.find("mobile")},blackberry:function(){return this.find("blackberry")||this.find("bb10")||this.find("rim")},blackberryPhone:function(){return this.blackberry()&&!this.find("tablet")},blackberryTablet:function(){return this.blackberry()&&this.find("tablet")},windows:function(){return this.find("windows")},windowsPhone:function(){return this.windows()&&this.find("phone")},windowsTablet:function(){return this.windows()&&this.find("touch")},fxos:function(){return this.find("(mobile; rv:")||this.find("(tablet; rv:")},fxosPhone:function(){return this.fxos()&&this.find("mobile")},fxosTablet:function(){return this.fxos()&&this.find("tablet")},mobile:function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()},tablet:function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},portrait:function(){return window.innerHeight>window.innerWidth},landscape:function(){return window.innerHeight<window.innerWidth},find:function(t){return this.userAgent.indexOf(t)!==-1}};return{device:t}}(),TapEvents=function(){function t(){document.addEventListener("touchstart",function(t){var e=t.changedTouches[0];o=!0,a=t.target,d=s=e.clientX,p=l=e.clientY}),document.addEventListener("touchend",function(t){var e=t.changedTouches[0];s=e.clientX,l=e.clientY,o&&null!=c&&null!=a&&d>=s-u&&d<=s+u&&p>=l-u&&p<=l+u&&setTimeout(function(){a.dispatchEvent(c)},50)}),document.addEventListener("touchmove",function(t){var e=t.changedTouches[0];s=e.clientX,l=e.clientY,!d>=s-u&&!d<=s+u&&!p>=l-u&&!p<=l+u&&n()}),document.addEventListener("touchleave",n,!1),document.addEventListener("touchcancel",n,!1)}function e(){c=document.createEvent("Event"),c.initEvent(r,!0,!0)}function n(){o=!1,a=null}function i(){t(),e()}var o=!0,c=null,r="tap",a=null,u=20,s=0,l=0,d=0,p=0;return{init:i}}();!function(t){t._uSocial_tap_events_||void 0==t._uSocial_tap_events_&&(t._uSocial_tap_events_=!0,TapEvents.init())}(window);var usclPolifyll=function(){function t(t){usocialScriptSrc=document.querySelector("script[data-script=usocial]").getAttribute("src"),usocialScriptSrcArr=usocialScriptSrc.split("/");var e=document.createElement("script");e.src=usclHost.init()+"/usocial/classList.js",document.getElementsByTagName("head")[0].appendChild(e),e.onload=function(){t()}}return{classList:t}}(),uSocialPopup=function(t){function e(e){var n=document.getElementsByTagName("head"),i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=usclHost.init()+"/usocial/css/uscl-public-popup.css"+usclUtility.tool.getVersion(t),n[0].appendChild(i),i.onload=function(){e()}}function n(e,n){var i=document.getElementsByTagName("head"),o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=usclHost.init()+"/usocial/css/pro/"+n+".css"+usclUtility.tool.getVersion(t),i[0].appendChild(o),o.onload=function(){e()}}function i(t){function e(t,e){for(var n in t)t.hasOwnProperty(n)&&(d[n]=t[n]);e()}var n=u.getAttribute("data-lang");switch(d={},n){case"en":e(g.en,t);break;default:e(g.ru,t)}}function o(){return checkDevice.device.mobile()||checkDevice.device.tablet()?"tap":"click"}function c(){s=u.getAttribute("data-pid"),p=u.getAttribute("data-options").split(","),l=u.getAttribute("data-type"),m=o(),uFingerPrint.init(function(){e(function(){i(function(){y.init()})})})}function r(){u=document.querySelectorAll(".uSocial-PP")[0],f=setTimeout(function(){if(void 0!=u)c();else{if(1500===v)return clearTimeout(f),!1;v+=b,r()}},v)}function a(){usclUtility.tool.checkIE()?usclPolifyll.classList(function(){document.addEventListener("DOMContentLoaded",r())}):"loading"==document.readyState?document.addEventListener("DOMContentLoaded",r):r()}var u,s,l,d,p,f,h="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,m="click",v=0,b=50,g={ru:{arrSocial:{vk:"ВКонтакте",twi:"Twitter",gPlus:"Google+",fb:"Facebook",lj:"LiveJournal",mail:"Мой Мир",ok:"OK.ru",lin:"LinkedIn",tumblr:"Tumblr",youtube:"YouTube",instagram:"Instagram",telegram:"Telegram"},spoilerHeadline:"Подписывайтесь на наши группы в социальных сетях",notShowText:"Больше не показывать это окно"},en:{arrSocial:{vk:"VK.com",twi:"Twitter",gPlus:"Google+",fb:"Facebook",lj:"LiveJournal",mail:"My World",ok:"OK.ru",lin:"LinkedIn",tumblr:"Tumblr",youtube:"YouTube",instagram:"Instagram",telegram:"Telegram"},spoilerHeadline:"Follow us on social media",notShowText:"Don't show this window again"}},y=function(){function t(t){var n=I.animation||!1,o=I.position||!1,c=I.style||!1;T=document.createElement("div"),U=document.createElement("div"),P=document.createElement("div"),x=document.createElement("span"),T.classList.add("uSocial-public_popup"),T.classList.add("uscl-public_popup"),U.classList.add("uscl-public_popup-main"),P.classList.add("uscl-public_popup-main__content"),x.classList.add("uscl-public_popup-close"),x.classList.add("ico_uscl"),x.classList.add("ico_uscl-close"),x.setAttribute("data-item","close");for(var r=0;r<p.length;r++)T.classList.add("uscl-public_popup-"+p[r]);c&&T.classList.add(I.style),o&&"center"!==o?e():n||i(),U.appendChild(x),U.appendChild(P),T.appendChild(U),t()}function e(){T.classList.add("uscl-public_popup-position"),T.classList.add("uscl-public_popup-position--"+I.position)}function i(){A=document.createElement("div"),A.classList.add("uscl-public_popup__bg"),T.appendChild(A),w()}function o(){var e=usclUtility.tool.checkInObject(I,"copyright");t(function(){F.headlinePopup(),F.iconSocial(),F.notShowPopup(),null==e&&0!=e&&F.copyright(),j.init(),c()})}function c(){var t=I.action||u.getAttribute("data-action");switch(T.classList.add("uscl-public_popup--open"),t){case"close":R.close();break;case"timeout":R.timeout();break;default:R.hideScrollBar(),document.body.appendChild(T)}uPixel.init(s,l,t)}function r(){try{sessionStorage.setItem("public-popup-"+s,"close")}catch(t){}f()}function a(){try{localStorage.setItem("public-popup-"+s,"not-show")}catch(t){}f()}function f(){document.body.style.overflow="",document.body.style.paddingRight="",document.body.removeChild(T)}function v(t,e){e=e||!1;var n=uCookies.getCookie("usocialUser2"),i={pid:s,type:l.toLowerCase(),provider:t,usocialUser:uFingerPrint.getFpUsocialUser(),usocialUser2:n,url:document.URL};e===!0&&(i.isSecondRequest=!0),b(t,i)}function b(t,e){var n=new h;n.open("POST",usclHost.init()+"/logs/event-handler",!0),n.onload=function(){203===this.status&&(uCookies.setCookie("usocialUser2",usclUtility.tool.bitShiftByKey(uFingerPrint.getFpUsocialUser(),n.response),{expires:31536e3,path:"/"}),y.sendClickRequest(t,!0))},n.onerror=function(){throw new Error(this.status)},n.send(JSON.stringify(e))}function g(){T.addEventListener(m,function(t){var e,n,i=t.target,o=i.className.split(" ");if(o.indexOf("ico_uscl")!==-1)e=i;else if(o.indexOf("ico_uscl__title")!==-1)e=i.parentNode;else{if(o.indexOf("uscl-public_popup-not-show")===-1)return;a(),e=i}o.indexOf("uscl-public_popup-close")!==-1&&setTimeout(function(){r()},10),n=e.getAttribute("data-item"),v(n)}),document.addEventListener("keydown",function(t){null!==T.parentNode&&27===t.keyCode&&r()})}function w(){A.addEventListener("dblclick",function(t){r(),v("bg")}),(checkDevice.device.mobile()||checkDevice.device.tablet())&&A.addEventListener(m,function(t){r(),v("bg")})}function k(t){var e=new h;e.open("GET",usclHost.init()+"/data/info?pid="+s+"&url="+document.URL,!0),e.onload=function(){var e,n=JSON.parse(this.responseText),i="undefined"==typeof n[s].error;if(i){usclUtility.tool.checkInObject(n,"links")&&(E=usclUtility.tool.checkInObject(n,"links")),e=n[s].pro_info||{};for(var o in e)e.hasOwnProperty(o)&&(I[o]=e[o]);void 0!=n[s].pro_info&&void 0!=n[s].pro_info.copyright&&(I.copyright=n[s].pro_info.copyright),t()}},e.onerror={},e.send()}function S(t){var e="close"!==sessionStorage.getItem("public-popup-"+s),n="not-show"!==localStorage.getItem("public-popup-"+s);e&&n&&t()}function _(){o(),g()}function L(){usclUtility.tool.hasObj(I,"style")?n(function(){_()},I.style):_()}function C(){S(function(){k(function(){L()})})}var E,T,A,x,P,U,O,I={},F={headlinePopup:function(){var t=document.createElement("h1"),e=I.text||d.spoilerHeadline;t.classList.add("uscl-public_popup-headline"),t.textContent=e,P.appendChild(t)},iconSocial:function(){var t=document.createElement("div"),e=u.getAttribute("data-social").split(","),n=u.getAttribute("data-options").split(","),i=I.position||void 0;O=document.createElement("div"),t.classList.add("uscl-public_popup-list-intro"),O.classList.add("uscl-public_popup-list");for(var o=0;o<e.length;o++){var c=document.createElement("div"),r=document.createElement("a"),a=document.createElement("span");"lj"!==o?r.setAttribute("href","https://"+E[e[o]]):r.setAttribute("href","http://"+E[e[o]]),r.setAttribute("target","_blank"),r.setAttribute("data-item",e[o]),c.classList.add("uscl-item"),r.classList.add("ico_uscl"),r.classList.add("ico_uscl-"+e[o]),r.classList.add("uscl-"+e[o]),a.classList.add("ico_uscl__title"),n.indexOf("no-names")!==-1||n.indexOf("showWithoutNames_1")!==-1||"center"!==i&&void 0!=i||(a.textContent=d.arrSocial[e[o]],r.appendChild(a)),c.appendChild(r),t.appendChild(c),O.appendChild(t),P.appendChild(O)}},notShowPopup:function(){var t=document.createElement("span");t.classList.add("uscl-public_popup-not-show"),t.setAttribute("data-item","notShow"),t.textContent=d.notShowText,U.appendChild(t)},copyright:function(){var t=document.createElement("div"),e=document.createElement("a"),n=encodeURI(window.location.hostname);t.classList.add("uscl-public_popup-copyright"),e.classList.add("uscl-public_popup-copyright__logo"),e.setAttribute("target","_blank"),e.setAttribute("href","https://usocial.pro/?utm_source=front_sites&utm_medium=pubp&utm_campaign="+n),t.appendChild(e),U.appendChild(t)},init:function(){this.headlinePopup(),this.iconSocial(),this.notShowPopup(),this.copyright()}},R={hideScrollBar:function(){var t=parseInt(window.innerWidth)-parseInt(document.documentElement.clientWidth);usclUtility.tool.hasObj(I,"position")||(document.body.style.overflow="hidden",document.body.style.paddingRight=t+"px")},close:function(){function t(e){e.clientY<5&&(R.hideScrollBar(),document.body.appendChild(T),document.removeEventListener("mouseleave",t))}checkDevice.device.mobile()||checkDevice.device.tablet()?setTimeout(function(){document.body.appendChild(T)},5e3):document.addEventListener("mouseout",function(e){S(function(){t(e)})})},timeout:function(){var t=u.getAttribute("data-delay"),e=t?t+"000":"0";setTimeout(function(){R.hideScrollBar(),document.body.appendChild(T)},e)}},j={checkAnimation:function(t){var e=I.animation||void 0;"undefined"!=typeof e?t():j.animationBlock()},animation:function(){var t="uscl-public_popup-"+I.animation;T.classList.add(t)},addeventlistener:function(){function t(){var t,e={},n=navigator.appName,i=navigator.userAgent,o=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);switch(o&&null!=(t=i.match(/version\/([\.\d]+)/i))&&(o[2]=t[1]),o=o?[o[1],o[2]]:[n,navigator.appVersion,"-?"],o=o[0]){case"Chrome":e.start="webkitAnimationStart",e.iterator="webkitAnimationIteration",e.end="webkitAnimationEnd";break;case"Firefox":e.start="animationstart",e.iterator="animationiteration",e.end="animationend";break;case"Safari":e.start="webkitAnimationStart",e.iterator="webkitAnimationIteration",e.end="webkitAnimationEnd";break;case"MSIE":e.start="MSAnimationStart",e.iterator="MSAnimationIteration",e.end="MSAnimationEnd"}return e}var e="uscl-public_popup-"+I.animation;T.addEventListener(t().end,function(){T.classList.remove(e),j.animationBlock()},!1)},animationBlock:function(){U.style.animationName="initial",U.style.animationDuration="initial"},init:function(){j.checkAnimation(function(){j.animation(),j.addeventlistener()})}};return{init:C,sendClickRequest:v}}();return{init:a}}("7.1.5");uSocialPopup.init();